<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{Title}} Unblocked Game</title>
    <link rel="icon" href="../favicon.ico">
    <meta name="google-site-verification" content="gOg18sr9RISynx-JcghGoknG9UzeZdxEwLE_UXfgPCw"/>
    <link href="https://fonts.googleapis.com/css2?family=Comfortaa:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    {{Canonical}}
    {{Schema}}
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-46B1TJ3M7T"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-46B1TJ3M7T');
    </script>

    <style>
        :root {
            /* Minty Palette */
            --bg-body: #e0f2f1;
            --bg-surface: #ffffff;
            
            --primary: #26a69a;
            --primary-light: #80cbc4;
            --accent: #ffcc80;
            
            --text-main: #004d40;
            --text-light: #4db6ac;
            
            /* Dimensions */
            --header-height: 70px;
            --sidebar-width: 280px;
            
            /* Shapes */
            --radius-pill: 50px;
            --radius-card: 24px;
            
            /* Shadows */
            --shadow-float: 0 10px 30px rgba(38, 166, 154, 0.15);
            --shadow-inset: inset 0 2px 5px rgba(0,0,0,0.02);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            background-color: var(--bg-body);
            background-image: 
                linear-gradient(45deg, #e0f2f1 25%, #e8f5e9 25%, #e8f5e9 50%, #e0f2f1 50%, #e0f2f1 75%, #e8f5e9 75%, #e8f5e9 100%);
            background-size: 40px 40px;
            color: var(--text-main);
            font-family: 'Comfortaa', cursive;
            font-size: 15px;
            overflow-x: hidden;
            display: flex; flex-direction: column; min-height: 100vh;
        }

        /* --- HEADER --- */
        header {
            position: fixed;
            top: 10px; left: 10px; right: 10px;
            height: var(--header-height);
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(5px);
            border-radius: var(--radius-pill);
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            display: flex; align-items: center; justify-content: space-between;
            padding: 0 25px;
            z-index: 1000;
        }

        .header-left { display: flex; align-items: center; gap: 15px; }

        .menu-btn {
            background: var(--bg-body); border: none; cursor: pointer;
            color: var(--primary); padding: 10px; border-radius: 50%;
            transition: 0.2s;
            display: block; 
        }
        .menu-btn:hover { background: var(--primary); color: white; transform: rotate(90deg); }

        .logo {
            font-size: 22px; font-weight: 700;
            color: var(--text-main); text-decoration: none;
            display: flex; align-items: center; gap: 8px;
            letter-spacing: -1px;
        }
        .logo span { color: var(--primary); font-size: 26px; }

        /* Search Bar */
        .search-container { flex: 1; max-width: 500px; margin: 0 30px; }
        
        .search-box {
            width: 100%; background: #f5fcfb;
            height: 40px; border-radius: var(--radius-pill);
            display: flex; align-items: center; padding: 0 20px;
            border: 2px solid transparent; transition: 0.2s;
            box-shadow: var(--shadow-inset);
        }
        .search-box:focus-within { background: white; border-color: var(--primary); box-shadow: 0 4px 10px rgba(38, 166, 154, 0.1); }
        .search-box input {
            border: none; background: transparent; flex: 1;
            outline: none; font-family: 'Comfortaa', cursive;
            color: var(--text-main); font-size: 14px; font-weight: 600;
        }

        /* Mobile Search */
        .mobile-search-btn { display: none; background: none; border: none; cursor: pointer; color: var(--primary); }
        .mobile-search-overlay {
            display: none; position: fixed; top: 90px; left: 10px; right: 10px;
            background: white; padding: 15px; border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1); z-index: 999;
        }
        .mobile-search-overlay.active { display: block; }

        /* --- SIDEBAR --- */
        .sidebar {
            position: fixed; top: 90px; left: 10px; bottom: 10px;
            width: var(--sidebar-width);
            background: white;
            border-radius: var(--radius-card);
            z-index: 1001; padding: 0;
            transform: translateX(-120%); 
            transition: 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
            display: flex; flex-direction: column;
            overflow: hidden;
        }
        .sidebar.open { transform: translateX(0); }

        .sidebar-scroll {
            padding: 20px 15px;
            overflow-y: auto;
            flex: 1;
        }

        /* AUTHOR BIO STYLES */
        .author-widget {
            text-align: center;
            padding-bottom: 20px;
            margin-bottom: 20px;
            border-bottom: 2px dashed #e0f2f1;
        }
        .author-img-wrapper {
            position: relative;
            width: 80px; height: 80px;
            margin: 0 auto 10px auto;
        }
        .author-img {
            width: 100%; height: 100%;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid var(--primary);
            padding: 2px;
            background: white;
        }
        .verified-badge {
            position: absolute; bottom: 0; right: 0;
            width: 24px; height: 24px;
            background: var(--primary);
            color: white; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            font-size: 14px; border: 2px solid white;
        }
        .author-name { font-size: 18px; font-weight: 700; color: var(--text-main); margin-bottom: 5px; display: block; }
        .author-bio-text { font-size: 12px; color: #5c7c79; line-height: 1.4; margin-bottom: 15px; padding: 0 10px; }
        .author-socials { display: flex; justify-content: center; gap: 12px; }
        .social-link {
            width: 32px; height: 32px;
            background: var(--bg-body); border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            color: var(--primary); transition: 0.2s; text-decoration: none;
        }
        .social-link:hover { background: var(--primary); color: white; transform: translateY(-3px); }
        .social-link svg { width: 16px; height: 16px; fill: currentColor; }

        .nav-item {
            display: block; padding: 12px 20px; margin-bottom: 5px;
            color: var(--text-main); text-decoration: none;
            font-weight: 700; border-radius: var(--radius-pill);
            transition: 0.2s;
        }
        .nav-item:hover { background: #e0f2f1; color: var(--primary); padding-left: 25px; }
        .nav-item.active { background: var(--primary); color: white; box-shadow: 0 4px 10px rgba(38, 166, 154, 0.3); }

        /* --- MAIN --- */
        main {
            padding-top: 100px;
            padding-bottom: 60px;
            width: 100%; 
            max-width: 1600px; 
            margin: 0 auto;
        }

        /* Stage (Game + Ads) */
        .stage-wrapper {
            display: flex; 
            justify-content: center; 
            align-items: flex-start; /* Keeps ads at the top */
            gap: 20px; 
            padding: 0 10px; 
            margin-bottom: 50px;
        }

        .game-display {
            width: 100%; max-width: 900px;
            background: white;
            padding: 10px;
            border-radius: var(--radius-card);
            box-shadow: var(--shadow-float);
        }

        /* --- FIXED AD STYLES --- */
        .ad-tower {
            width: 160px;
            height: 600px; /* Forced Height */
            display: block;
            flex-shrink: 0;
            overflow: visible; /* Let iframe overflow if needed */
        }
        /* Force iframe inside tower to take full height */
        .ad-tower iframe {
            height: 600px !important;
            width: 160px !important;
            display: block;
        }

        .ad-banner-container {
            width: 100%;
            max-width: 1000px;
            margin: 30px auto;
            padding: 0 20px;
            display: flex; justify-content: center;
        }
        .ad-banner {
            width: 728px;
            height: 90px; /* Forced Height */
            display: block;
        }
        /* Force iframe inside banner to take full height */
        .ad-banner iframe {
            height: 90px !important;
            width: 728px !important;
            display: block;
        }

        .game-frame-container {
            width: 100%; aspect-ratio: 16/9;
            background: #b2dfdb;
            border-radius: 16px;
            overflow: hidden; position: relative;
            display: flex; align-items: center; justify-content: center;
            background-image: linear-gradient(135deg, #b2dfdb 0%, #80cbc4 100%);
        }
        
        /* Game Iframe */
        .game-frame-container iframe { width: 100%; height: 100%; border: none; }

        .overlay {
            position: absolute; inset: 0; background: rgba(255,255,255,0.6);
            backdrop-filter: blur(4px);
            display: flex; flex-direction: column;
            align-items: center; justify-content: center;
        }

        .btn-play {
            background: var(--primary); color: white; border: none;
            padding: 15px 50px; border-radius: var(--radius-pill);
            font-family: 'Comfortaa'; font-weight: 700; font-size: 22px;
            cursor: pointer; transition: 0.2s;
            box-shadow: 0 6px 0 #00695c;
            display: flex; align-items: center; gap: 10px; z-index: 10;
        }
        .btn-play:hover { transform: translateY(-3px) scale(1.05); box-shadow: 0 9px 0 #00695c; background: #2bbbad; }
        .btn-play:active { transform: translateY(3px); box-shadow: 0 2px 0 #00695c; }

        .game-controls {
            display: flex; justify-content: space-between; align-items: center;
            margin-top: 15px; padding: 0 10px; gap: 10px; flex-wrap: wrap;
        }
        
        .pill-btn {
            padding: 6px 16px; background: #e0f2f1; border: none;
            border-radius: 20px; font-family: 'Comfortaa'; 
            color: var(--primary); cursor: pointer; font-weight: 700;
            font-size: 13px; transition: 0.2s;
        }
        .pill-btn:hover { background: var(--primary); color: white; }

        /* Cookie Consent Banner */
        .cookie-consent {
            position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
            background: rgba(0, 77, 64, 0.95); color: white;
            padding: 15px 25px; border-radius: 50px;
            display: flex; align-items: center; gap: 20px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
            z-index: 2000; font-size: 13px;
            width: 90%; max-width: 500px;
            backdrop-filter: blur(5px);
            opacity: 0; pointer-events: none; transition: 0.5s;
        }
        .cookie-consent.show { opacity: 1; pointer-events: auto; bottom: 30px; }
        .cookie-consent a { color: var(--primary-light); text-decoration: underline; }
        .cookie-consent button {
            background: var(--primary); border: none; padding: 8px 20px;
            border-radius: 20px; color: white; font-weight: bold; cursor: pointer;
            white-space: nowrap; transition: 0.2s;
        }
        .cookie-consent button:hover { background: white; color: var(--primary); }

        /* --- GRID --- */
        .grid-header {
            padding: 0 30px; margin-bottom: 25px;
            display: flex; align-items: center; gap: 15px;
        }
        .grid-title { font-size: 20px; font-weight: 700; color: var(--text-main); border-bottom: 3px solid var(--accent); }
        .grid-badge { background: var(--primary); color: white; padding: 3px 10px; border-radius: 10px; font-size: 12px; font-weight: 700; }

        .game-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 20px; padding: 0 30px;
            margin-bottom: 60px;
        }

        .game-card {
            aspect-ratio: 1/1; background: white;
            border-radius: var(--radius-card); overflow: hidden; cursor: pointer;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            transition: 0.3s; position: relative;
        }
        .game-card > *:not(img) { display: none !important; }
        .game-card img { width: 100%; height: 100%; object-fit: cover; transition: 0.5s; }
        .game-card:hover { transform: translateY(-8px); box-shadow: 0 15px 30px rgba(38, 166, 154, 0.2); }
        .game-card:hover img { transform: scale(1.1); }
        .game-card::after {
            content: 'PLAY'; position: absolute; bottom: -40px; left: 0; right: 0;
            background: rgba(38, 166, 154, 0.9); color: white; text-align: center;
            padding: 8px; font-weight: 700; font-size: 12px; transition: 0.3s;
        }
        .game-card:hover::after { bottom: 0; }

        /* --- REVIEWS --- */
        .reviews-wrapper { margin-top: 20px; }
        .reviews-container {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px; padding: 0 30px;
        }
        .review-card {
            background: var(--bg-surface); padding: 25px;
            border-radius: var(--radius-card); box-shadow: var(--shadow-float);
            transition: transform 0.2s ease;
            border: 1px solid rgba(255,255,255,0.5);
        }
        .review-card:hover { transform: translateY(-5px); box-shadow: 0 15px 35px rgba(38, 166, 154, 0.2); }
        .review-header {
            display: flex; justify-content: space-between; align-items: center;
            margin-bottom: 15px; border-bottom: 2px solid #e0f2f1; padding-bottom: 10px;
        }
        .review-user {
            font-weight: 700; color: var(--primary); font-size: 14px;
            display: flex; align-items: center; gap: 10px;
        }
        .review-user::before {
            content: ''; display: inline-block; width: 32px; height: 32px;
            background-color: #e0f2f1; border-radius: 50%;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%2326a69a"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>');
            background-size: 60%; background-repeat: no-repeat; background-position: center;
        }
        .review-stars {
            color: #ffb300; font-size: 14px; background: #fff8e1;
            padding: 4px 8px; border-radius: 12px; font-weight: bold;
        }
        .review-text { color: var(--text-main); line-height: 1.6; font-size: 14px; opacity: 0.85; }

        /* Footer */
        footer { margin-top: auto; padding: 40px; text-align: center; background: white; margin-top: 50px; border-radius: 30px 30px 0 0; }
        .footer-links a { color: var(--text-main); text-decoration: none; margin: 0 12px; font-weight: 700; font-size: 13px; }
        .footer-links a:hover { color: var(--primary); }

        /* Utilities */
        .hidden { display: none !important; }
        .backdrop {
            position: fixed; inset: 0; background: rgba(0, 77, 64, 0.2);
            z-index: 1000; opacity: 0; pointer-events: none; transition: 0.3s;
        }
        .backdrop.active { opacity: 1; pointer-events: auto; }
        .svg-icon { width: 24px; height: 24px; fill: currentColor; }

        /* Responsive */
        @media (max-width: 1200px) {
            .ad-tower { display: none; } /* Hide Side Ads on smaller screens */
        }

        @media (max-width: 768px) {
            header { border-radius: 0 0 20px 20px; top: 0; left: 0; right: 0; }
            .sidebar { top: 0; bottom: 0; left: 0; border-radius: 0; }
            .search-container { display: none; }
            .mobile-search-btn { display: block; }
            main { padding-top: 90px; }
            .game-grid { grid-template-columns: repeat(2, 1fr); gap: 15px; }
            .reviews-container { grid-template-columns: 1fr; } 
            
            .stage-wrapper { flex-direction: column; align-items: center; }
            .ad-banner { height: auto; } 
        }
    </style>
</head>
<body>
    <div id="mobileSearch" class="mobile-search-overlay">
        <div class="search-box">
            <input type="text" id="mobileSearchInput" placeholder="Find a game..." onkeyup="filterGamesMobile()">
            <div class="search-icon" onclick="toggleMobileSearch()" style="cursor:pointer; font-weight:bold;">âœ•</div>
        </div>
    </div>

    <!-- Cookie Consent Banner -->
    <div id="cookieConsent" class="cookie-consent">
        <p>We use cookies to ensure you get the best experience on our website. <a href="privacy.html">Privacy Policy</a></p>
        <button onclick="acceptCookies()">Got it!</button>
    </div>

    <header>
        <div class="header-left">
            <button class="menu-btn" onclick="toggleMenu()">
                 <svg class="svg-icon" viewBox="0 0 24 24"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>
            </button>
            <a href="/" class="logo"><span>ðŸŒ¿</span>Basketball Stars Unblocked</a>
        </div>
        <div class="search-container">
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="Search games or URLs..." onkeyup="filterGames()">
            </div>
        </div>
        <button class="mobile-search-btn" onclick="toggleMobileSearch()">
             <svg class="svg-icon" viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></svg>
        </button>
    </header>

    <div class="backdrop" id="backdrop" onclick="toggleMenu()"></div>
    
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-scroll">
            
            <!-- AUTHOR BIO SECTION -->
            <div id="authorContainer" class="author-widget">
                <!-- Data will be loaded here by JS -->
                <div class="author-img-wrapper">
                    <div style="width:100%; height:100%; border-radius:50%; background:#e0f2f1;"></div>
                </div>
                <div style="height:20px; background:#e0f2f1; margin:10px 20%; border-radius:10px;"></div>
                <div style="height:10px; background:#e0f2f1; margin:5px 10%; border-radius:10px;"></div>
            </div>

            <a href="https://snowrider3dubg.bitbucket.io/index.html" class="nav-item">Snow Rider 3d Unblocked</a>
            <a href="https://dt8nkomu7hg8u.cloudfront.net/" class="nav-item">A Small World Cup Unblocked</a>
            <a href="https://cookieclicker-unblocked.bitbucket.io/" class="nav-item">Cookie Clicker Unblocked</a>
            {{MenuLinks}}
        </div>
    </aside>

    <main>
        <div class="stage-wrapper">
            <!-- Left Ad Tower (160x600) -->
            <div class="ad-tower">
                <script>
                    atOptions = {
                        'key' : '2f68a0c68f8f4abf1e3fbfcbebf8f01d',
                        'format' : 'iframe',
                        'height' : 600,
                        'width' : 160,
                        'params' : {}
                    };
                </script>
                <script src="https://www.highperformanceformat.com/2f68a0c68f8f4abf1e3fbfcbebf8f01d/invoke.js"></script>
            </div>

            <!-- Game Display -->
            <div class="game-display">
                <div class="game-frame-container">
                    <iframe id="gameFrame" src="about:blank"></iframe>
                    <div id="overlay" class="overlay">
                        <div id="playAction" class="hidden">
                            <button class="btn-play" onclick="launchGame()">PLAY NOW</button>
                        </div>
                        <div id="status" style="color:var(--text-light); font-weight:700; margin-top:15px;">INITIALIZING...</div>
                    </div>
                </div>
                <div class="game-controls">
                    <h2 style="font-size:16px; color:var(--text-main); font-weight:700;" id="gameTitleDisplay">Featured</h2>
                    <div style="display:flex; gap:10px; align-items:center;">
                        <select id="serverSelect" class="pill-btn" onchange="changeServer(this.value)">
                            <option>Loading...</option>
                        </select>
                        <button class="pill-btn" onclick="toggleFullScreen()" title="Full Screen">â›¶</button>
                    </div>
                </div>
            </div>

            <!-- Right Ad Tower (160x600) -->
            <div class="ad-tower">
                <script>
                    atOptions = {
                        'key' : '2f68a0c68f8f4abf1e3fbfcbebf8f01d',
                        'format' : 'iframe',
                        'height' : 600,
                        'width' : 160,
                        'params' : {}
                    };
                </script>
                <script src="https://www.highperformanceformat.com/2f68a0c68f8f4abf1e3fbfcbebf8f01d/invoke.js"></script>
            </div>
        </div>
        
        {{Description}}
        
        <!-- Horizontal Banner Ad (728x90) -->
        <div class="ad-banner-container">
            <div class="ad-banner">
                <script>
                    atOptions = {
                        'key' : 'd878db43c7cc7b3261e3f25521291788',
                        'format' : 'iframe',
                        'height' : 90,
                        'width' : 728,
                        'params' : {}
                    };
                </script>
                <script src="https://www.highperformanceformat.com/d878db43c7cc7b3261e3f25521291788/invoke.js"></script>
            </div>
        </div>

        <div class="grid-header">
            <span class="grid-title">Fresh Collection</span>
            <span class="grid-badge" id="countBadge">All</span>
        </div>
        <div class="game-grid" id="gameGrid1">
            {{RelatedGames}}
        </div>
        
        <div class="grid-header">
            <span class="grid-title">You may like this also</span>
            <span class="grid-badge">New</span>
        </div>
        
            {{Reviews}}
        
    </main>

    <footer>
        <div class="footer-links">
            <a href="about.html">About</a>
            <a href="privacy.html">Privacy</a>
            <a href="contact.html">Contact</a>
            <a href="terms.html">Terms</a>
            <a href="dmca.html">DMCA</a>
        </div>
        <p style="margin-top:15px; font-size:13px; opacity:0.6;">&copy; <span id="yr"></span>. Freshness Guaranteed.</p>
    </footer>

    <script>
        const JSON_URL = "https://game-json-cdn.pages.dev/games.json"; 
        const KEY = "{{gameid}}";
        let gameUrls = []; 

        // SVG Icons Map for Author Bio
        const socialIcons = {
            twitter: '<path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>',
            instagram: '<path d="M7.8,2H16.2C19.4,2 22,4.6 22,7.8V16.2A5.8,5.8 0 0,1 16.2,22H7.8C4.6,22 2,19.4 2,16.2V7.8A5.8,5.8 0 0,1 7.8,2M7.6,4A3.6,3.6 0 0,0 4,7.6V16.4C4,18.39 5.61,20 7.6,20H16.4A3.6,3.6 0 0,0 20,16.4V7.6C20,5.61 18.39,4 16.4,4H7.6M17.25,5.5A1.25,1.25 0 0,1 18.5,6.75A1.25,1.25 0 0,1 17.25,8A1.25,1.25 0 0,1 16,6.75A1.25,1.25 0 0,1 17.25,5.5M12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9Z"/>',
            discord: '<path d="M19.27 5.33C17.94 4.71 16.5 4.26 15 4a.09.09 0 0 0-.07.03c-.18.33-.39.76-.53 1.09a16.09 16.09 0 0 0-4.8 0c-.14-.34-.35-.76-.54-1.09c-.01-.02-.04-.03-.07-.03c-1.5.26-2.93.71-4.27 1.33c-.01 0-.02.01-.03.02c-2.72 4.07-3.47 8.03-3.1 11.95c0 .02.01.04.03.05c1.8 1.32 3.53 2.12 5.2 2.65c.03.01.06 0 .07-.02c.4-.55.76-1.13 1.07-1.74c.02-.04 0-.08-.04-.09c-.57-.22-1.11-.48-1.64-.78c-.04-.02-.04-.08.01-.11c.11-.08.22-.17.33-.25c.02-.02.05-.02.07-.01c3.44 1.57 7.15 1.57 10.55 0c.02-.01.05-.01.07.01c.11.09.22.17.33.26c.04.03.04.09-.01.11c-.52.31-1.07.56-1.64.78c-.04.01-.05.06-.04.09c.32.61.68 1.19 1.07 1.74c.03.01.06.02.09.02c1.68-.53 3.42-1.33 5.19-2.65c.02-.01.03-.03.03-.05c.44-4.53-.6-8.5-3.55-12.4c-.01-.01-.02-.02-.03-.02zM8.52 14.91c-1.03 0-1.89-.95-1.89-2.12s.84-2.12 1.89-2.12c1.06 0 1.9.96 1.89 2.12c0 1.17-.85 2.12-1.89 2.12zm6.97 0c-1.03 0-1.89-.95-1.89-2.12s.84-2.12 1.89-2.12c1.06 0 1.9.96 1.89 2.12c0 1.17-.85 2.12-1.89 2.12z"/>',
            youtube: '<path d="M21.58,7.19C21.35,6.33 20.67,5.65 19.81,5.42C18.25,5 12,5 12,5C12,5 5.75,5 4.19,5.42C3.33,5.65 2.65,6.33 2.42,7.19C2,8.75 2,12 2,12C2,12 2,15.25 2.42,16.81C2.65,17.67 3.33,18.35 4.19,18.58C5.75,19 12,19 12,19C12,19 18.25,19 19.81,18.58C20.67,18.35 21.35,17.67 21.58,16.81C22,15.25 22,12 22,12C22,12 22,8.75 21.58,7.19M10,15V9L15.2,12L10,15Z"/>',
            default: '<path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"/>'
        };

        // --- AUTHOR BIO FETCHING ---
        async function loadAuthorBio() {
            const container = document.getElementById('authorContainer');
            // REPLACE THIS URL WITH YOUR ACTUAL JSON URL
            const jsonUrl = "https://gist.githubusercontent.com/brudnak/6e330a6c085b1c8340d8677c78912948/raw/author.json"; 
            
            const fallbackData = {
                name: "Alex Green",
                avatar: "https://api.dicebear.com/9.x/avataaars/svg?seed=Alex&backgroundColor=b6e3f4",
                bio: "Hey! I'm a game enthusiast. I built this space to share the freshest unblocked games. Enjoy! ðŸŒ¿",
                socials: [
                    { platform: "twitter", url: "#", icon: "twitter" },
                    { platform: "instagram", url: "#", icon: "instagram" }
                ]
            };

            try {
                let data = fallbackData;
                // Uncomment to enable real fetch:
                // const response = await fetch(jsonUrl); if(response.ok) data = await response.json();

                let socialsHtml = '';
                if(data.socials && data.socials.length > 0) {
                    socialsHtml = '<div class="author-socials">';
                    data.socials.forEach(soc => {
                        const svgPath = socialIcons[soc.icon] || socialIcons['default'];
                        socialsHtml += `
                            <a href="${soc.url}" target="_blank" class="social-link" title="${soc.platform}">
                                <svg viewBox="0 0 24 24">${svgPath}</svg>
                            </a>
                        `;
                    });
                    socialsHtml += '</div>';
                }

                const html = `
                    <div class="author-img-wrapper">
                        <img src="${data.avatar}" alt="${data.name}" class="author-img">
                        <div class="verified-badge">âœ“</div>
                    </div>
                    <span class="author-name">${data.name}</span>
                    <p class="author-bio-text">${data.bio}</p>
                    ${socialsHtml}
                `;
                container.innerHTML = html;
            } catch (error) {
                console.error("Error loading author bio:", error);
                container.style.display = 'none';
            }
        }

        function acceptCookies() {
            document.getElementById('cookieConsent').classList.remove('show');
            localStorage.setItem('cookieAccepted', 'true');
        }

        async function init() {
            document.getElementById('yr').innerText = new Date().getFullYear();
            
            // Load Author Bio
            loadAuthorBio();

            // Check Cookie Consent
            if (!localStorage.getItem('cookieAccepted')) {
                setTimeout(() => {
                    document.getElementById('cookieConsent').classList.add('show');
                }, 1000);
            }

            try {
                const res = await fetch(`${JSON_URL}?t=${Date.now()}`);
                const data = await res.json();
                gameUrls = data[KEY] || [];
                if(gameUrls.length > 0) {
                      document.getElementById('gameTitleDisplay').innerText = "Game #" + KEY;
                      const select = document.getElementById('serverSelect');
                      select.innerHTML = gameUrls.map((url, i) => `<option value="${url}">Server ${i + 1}</option>`).join('');
                      document.getElementById('status').style.display = 'none';
                      document.getElementById('playAction').classList.remove('hidden');
                }
            } catch (e) { document.getElementById('status').innerText = "Offline"; }
        }

        function launchGame() {
            const select = document.getElementById('serverSelect');
            const overlay = document.getElementById('overlay');
            const frame = document.getElementById('gameFrame');
            frame.src = select.value;
            overlay.innerHTML = `<h3 style="color:var(--primary)">Loading...</h3>`;
            frame.onload = () => { overlay.style.opacity = '0'; setTimeout(() => overlay.classList.add('hidden'), 300); };
        }
        function changeServer(val) {
             const overlay = document.getElementById('overlay');
             if(overlay.classList.contains('hidden')) { document.getElementById('gameFrame').src = val; }
        }
        function toggleMenu() {
            document.getElementById('sidebar').classList.toggle('open');
            document.getElementById('backdrop').classList.toggle('active');
        }
        function toggleMobileSearch() {
            document.getElementById('mobileSearch').classList.toggle('active');
            if(document.getElementById('mobileSearch').classList.contains('active')) document.getElementById('mobileSearchInput').focus();
        }
        function filterGames() { performFilter(document.getElementById('searchInput').value.toLowerCase()); }
        function filterGamesMobile() { performFilter(document.getElementById('mobileSearchInput').value.toLowerCase()); }
        
        function performFilter(filter) {
            const cards = document.querySelectorAll('.game-card');
            let count = 0;
            cards.forEach(card => {
                const title = card.getAttribute('data-title') || card.innerText;
                const url = card.getAttribute('href') || '';
                if (title.toLowerCase().includes(filter) || url.toLowerCase().includes(filter)) { 
                    card.classList.remove('hidden'); count++; 
                } else { card.classList.add('hidden'); }
            });
            document.getElementById('countBadge').innerText = count > 0 ? count + ' Found' : '0';
        }

        function toggleFullScreen() {
            const elem = document.getElementById('gameFrame');
            if (elem.requestFullscreen) { elem.requestFullscreen(); }
            else if (elem.webkitRequestFullscreen) { elem.webkitRequestFullscreen(); }
            else if (elem.msRequestFullscreen) { elem.msRequestFullscreen(); }
        }

        window.onload = init;
    </script>
</body>
</html>
